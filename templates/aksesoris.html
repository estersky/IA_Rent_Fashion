<!DOCTYPE html>
<html>
  <head>
    <title>IA Rent Fashion</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="author" content="" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="static\style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="static/css_koleksi/styles.css" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Main CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@200;400;600;800&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap icons-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <style>
      .product-card {
        border: 1px solid #df8c8cff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
      }

      .product-card:hover {
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        transform: translateY(-4px);
      }

      .product-card .foto-produk {
        height: 220px;
        object-fit: cover;
        width: 100%;
        transition: transform 0.3s ease;
      }

      .product-card:hover .foto-produk {
        transform: scale(1.05);
      }

      .product-card .card-body {
        padding: 16px !important;
      }

      .product-card .card-body h5 {
        font-size: 16px;
        margin-bottom: 8px;
        color: #333;
        font-weight: 600;
      }

      .product-card .card-body .text-danger {
        font-size: 16px;
        display: block;
        margin-bottom: 2px;
      }

      .product-card .card-body small {
        font-size: 12px;
        color: #999;
      }

      /* Card Footer dengan Buttons */
      .product-card .card-footer {
        background-color: transparent !important;
        border-top: 1px solid #edafafff !important;
        padding: 12px !important;
      }

      /* Button Styling */
      .btn-sm {
        padding: 6px 12px;
        font-size: 13px;
        font-weight: 500;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .btn-outline-dark {
        color: #333;
        border-color: #333;
      }

      .btn-outline-dark:hover {
        background-color: #333;
        color: white;
        border-color: #333;
      }

      .btn-outline-dark i {
        font-size: 14px;
      }

      /* Button Icon (Keranjang) */
      .btn-icon {
        width: 40px;
        height: 40px;
        padding: 0 !important;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }

      .btn-icon i {
        font-size: 16px;
      }

      /* Cart Modal Styling */
      .cart-item {
        border-bottom: 1px solid #1155a9ff;
        padding: 12px 0;
      }

      .cart-item:last-child {
        border-bottom: none;
      }

      .cart-item-image {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 8px;
      }

      .cart-empty {
        text-align: center;
        padding: 40px 20px;
        color: #6c757d;
      }

      .cart-empty i {
        font-size: 48px;
        margin-bottom: 16px;
        opacity: 0.5;
      }

      .remove-item {
        color: #dc3545;
        background: none;
        border: none;
        padding: 4px 8px;
        border-radius: 4px;
        transition: all 0.2s ease;
      }

      .remove-item:hover {
        background-color: #dc3545;
        color: white;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .product-card .foto-produk {
          height: 180px;
        }

        .product-card .card-body h5 {
          font-size: 14px;
        }

        .btn-sm {
          padding: 5px 10px;
          font-size: 12px;
        }

        .btn-icon {
          width: 36px;
          height: 36px;
        }
      }
    </style>
  </head>

  <body>
    <!-- ===== SVG ICONS DEFINITIONS ===== -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
      <!-- Navbar icon -->
      <symbol id="navbar-icon" viewBox="0 0 16 16">
        <path d="M2 4h12v1H2zM2 8h12v1H2zM2 12h12v1H2z" />
      </symbol>

      <!-- Heart / Wishlist -->
      <symbol id="heart" viewBox="0 0 16 16">
        <path
          d="M8 15S3 12 1.5 8.5C.5 6.5 1.5 3.5 4.5 3.5c1.5 0 2.5 1 3.5 2 1-1 
          2-2 3.5-2 3 0 4 3 3 5-1.5 3.5-6.5 6.5-6.5 6.5z"
        />
      </symbol>

      <!-- Cart -->
      <symbol id="cart" viewBox="0 0 16 16">
        <path
          d="M0 1a1 1 0 0 1 1-1h1.11a.5.5 0 0 1 
          .485.379L2.89 2H14a1 1 0 0 1 
          .962 1.273l-1.5 5A1 1 0 0 1 
          12.5 9H4.118l-.25 1H13a.5.5 0 0 1 
          0 1H3.5a.5.5 0 0 1-.485-.621L4.89 
          3H1.5a.5.5 0 0 1 0-1H1zM4.118 
          8h8.382l1.2-4H4.118zM5.5 12a1.5 1.5 
          0 1 1 0 3 1.5 1.5 0 0 1 
          0-3zm7 0a1.5 1.5 0 1 1 
          0 3 1.5 1.5 0 0 1 0-3z"
        />
      </symbol>

      <!-- User -->
      <symbol id="user" viewBox="0 0 16 16">
        <path
          d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 
          0 6zm4.5 7a.5.5 0 0 0 .5-.5v-.5a4 
          4 0 0 0-8 0v.5a.5.5 0 0 0 
          .5.5h7z"
        />
      </symbol>

      <!-- Search -->
      <symbol id="search" viewBox="0 0 16 16">
        <path
          d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
        />
      </symbol>
    </svg>
    <!-- HEADER -->
    <header id="header" class="site-header">
      <nav
        id="header-nav"
        class="navbar navbar-expand-lg py-3 border-bottom bg-white shadow-sm fixed-top"
      >
        <div class="container">
          <!-- LOGO -->
          <a class="navbar-brand" href="{{ url_for('beranda') }}">
            <img
              src="{{ url_for('static', filename='images/main-logo.png') }}"
              alt="IA Rent Fashion Logo"
              class="logo"
              style="height: 90px; width: auto; object-fit: contain"
            />
          </a>

          <!-- TOGGLER -->
          <button
            class="navbar-toggler d-flex d-lg-none order-3 p-2"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#bdNavbar"
            aria-controls="bdNavbar"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <svg class="navbar-icon" width="22" height="22" fill="currentColor">
              <use xlink:href="#navbar-icon"></use>
            </svg>
          </button>

          <!-- OFFCANVAS MENU -->
          <div class="offcanvas offcanvas-end" tabindex="-1" id="bdNavbar">
            <div class="offcanvas-header">
              <h5 class="offcanvas-title fw-semibold">Menu</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="offcanvas"
                aria-label="Close"
              ></button>
            </div>

            <div
              class="offcanvas-body d-flex justify-content-between align-items-center"
            >
              <!-- MENU -->
              <ul class="navbar-nav mx-auto text-uppercase fw-semibold">
                <li class="nav-item">
                  <a
                    class="nav-link me-4 active"
                    href="{{ url_for('beranda') }}"
                    >Beranda</a
                  >
                </li>
                <li class="nav-item dropdown">
                  <a
                    class="nav-link me-4 dropdown-toggle"
                    data-bs-toggle="dropdown"
                    href="{{ url_for('koleksi') }}"
                    role="button"
                    aria-expanded="false"
                    >Koleksi</a
                  >
                  <ul class="dropdown-menu animate slide border">
                    <li><a href="{{ url_for('jas') }}">Jas</a></li>
                    <li><a href="{{ url_for('dress') }}">Dress</a></li>
                    <li><a href="{{ url_for('aksesoris') }}">Aksesori</a></li>
                    <li><a href="{{ url_for('kebaya') }}">Kebaya</a></li>
                    <li><a href="{{ url_for('footwear') }}">Footwear</a></li>
                  </ul>
                </li>
                <li class="nav-item">
                  <a class="nav-link me-4" href="{{ url_for('inspirasi') }}"
                    >Inspirasi</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link me-4" href="{{ url_for('contact') }}"
                    >Kontak</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link me-4" href="{{ url_for('tentang') }}"
                    >Tentang</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link me-4" href="{{ url_for('review') }}"
                    >Review</a
                  >
                </li>
              </ul>

              <!-- USER ICONS -->
              <ul class="d-flex list-unstyled mb-0 align-items-center">
                <!-- Search -->
                <li class="ms-3">
                  <a href="#" class="text-dark search-button">
                    <svg width="22" height="22" fill="currentColor">
                      <use xlink:href="#search"></use>
                    </svg>
                  </a>
                </li>

                <!-- Wishlist -->
                <li class="ms-3 dropdown">
                  <a
                    href="#"
                    class="text-dark dropdown-toggle position-relative"
                    data-bs-toggle="dropdown"
                  >
                    <svg width="22" height="22" fill="currentColor">
                      <use xlink:href="#heart"></use>
                    </svg>
                    <span
                      class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning text-dark"
                      >2</span
                    >
                  </a>
                  <div
                    class="dropdown-menu p-3 shadow border-0 rounded-4 dropdown-menu-end"
                  >
                    <h5 class="fw-bold mb-3">Wishlist Anda</h5>
                    <ul class="list-group mb-3">
                      <li
                        class="list-group-item bg-transparent d-flex justify-content-between lh-sm"
                      >
                        <div>
                          <h6 class="fw-semibold">Dress Brokat Elegan</h6>
                          <small>Warna pastel lembut</small>
                        </div>
                        <span class="text-primary">Rp 100.000/hari</span>
                      </li>
                      <li
                        class="list-group-item bg-transparent d-flex justify-content-between lh-sm"
                      >
                        <div>
                          <h6 class="fw-semibold">Setelan Jas Slimfit</h6>
                          <small>Ukuran L</small>
                        </div>
                        <span class="text-primary">Rp 120.000/hari</span>
                      </li>
                    </ul>
                    <a href="#" class="btn btn-dark w-100 rounded-pill"
                      >Lihat Semua</a
                    >
                  </div>
                </li>

                <!-- Cart -->
                <li class="ms-3 dropdown">
                  <a
                    href="#"
                    class="text-dark dropdown-toggle position-relative"
                    data-bs-toggle="dropdown"
                  >
                    <svg width="22" height="22" fill="currentColor">
                      <use xlink:href="#cart"></use>
                    </svg>
                    <span
                      class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-dark text-white"
                      >3</span
                    >
                  </a>
                  <div
                    class="dropdown-menu p-3 shadow border-0 rounded-4 dropdown-menu-end"
                  >
                    <h5 class="fw-bold mb-3">Keranjang Anda</h5>
                    <ul class="list-group mb-3">
                      <li
                        class="list-group-item bg-transparent d-flex justify-content-between lh-sm"
                      >
                        <div>
                          <h6 class="fw-semibold">Kebaya Modern</h6>
                          <small>1 item</small>
                        </div>
                        <span class="text-primary">Rp 95.000</span>
                      </li>
                      <li
                        class="list-group-item bg-transparent d-flex justify-content-between lh-sm"
                      >
                        <div>
                          <h6 class="fw-semibold">Gaun Merah</h6>
                          <small>1 item</small>
                        </div>
                        <span class="text-primary">Rp 110.000</span>
                      </li>
                    </ul>
                    <div class="d-grid gap-2">
                      <a href="#" class="btn btn-dark rounded-pill"
                        >Lihat Keranjang</a
                      >
                      <a href="#" class="btn btn-primary rounded-pill"
                        >Checkout</a
                      >
                    </div>
                  </div>
                </li>

                <!-- User Menu (Login/Profile) -->
                {% if g.user or session.get('user_id') %}
                <!-- Jika User Sudah Login -->
                <li class="ms-3 dropdown">
                  <a
                    href="#"
                    class="text-dark dropdown-toggle d-flex align-items-center"
                    data-bs-toggle="dropdown"
                    style="text-decoration: none; gap: 8px"
                  >
                    <svg width="22" height="22" fill="currentColor">
                      <use xlink:href="#user"></use>
                    </svg>
                    <span
                      class="d-none d-sm-inline fw-semibold"
                      style="font-size: 0.9rem"
                    >
                      {% if g.user %} {{ g.user.name[:15] }} {% else %} {{
                      session.get('user_name', 'User')[:15] }} {% endif %}
                    </span>
                  </a>
                  <ul
                    class="dropdown-menu dropdown-menu-end shadow border-0 rounded-3"
                  >
                    <!-- Profile -->
                    <li>
                      <a
                        class="dropdown-item d-flex align-items-center gap-2"
                        href="{{ url_for('profile') }}"
                      >
                        <i
                          class="bi bi-person-circle"
                          style="font-size: 1.1rem; color: #e91e63"
                        ></i>
                        <span>Profile Saya</span>
                      </a>
                    </li>
                    <!-- Pesanan -->
                    <li>
                      <a
                        class="dropdown-item d-flex align-items-center gap-2"
                        href="{{ url_for('pesanan') }}"
                      >
                        <i
                          class="bi bi-bag-check"
                          style="font-size: 1.1rem; color: #ff9800"
                        ></i>
                        <span>Pesanan Saya</span>
                      </a>
                    </li>
                    <!-- Favorit -->
                    <li>
                      <a
                        class="dropdown-item d-flex align-items-center gap-2"
                        href="#"
                      >
                        <i
                          class="bi bi-heart"
                          style="font-size: 1.1rem; color: #f44336"
                        ></i>
                        <span>Favorit Saya</span>
                      </a>
                    </li>
                    <li><hr class="dropdown-divider" /></li>
                    <!-- Logout -->
                    <li>
                      <a
                        class="dropdown-item d-flex align-items-center gap-2 text-danger"
                        href="{{ url_for('logout') }}"
                      >
                        <i
                          class="bi bi-box-arrow-right"
                          style="font-size: 1.1rem"
                        ></i>
                        <span>Logout</span>
                      </a>
                    </li>
                  </ul>
                </li>
                {% else %}
                <!-- Jika User Belum Login -->
                <li class="ms-3 dropdown">
                  <a
                    href="#"
                    class="text-dark dropdown-toggle"
                    data-bs-toggle="dropdown"
                    style="text-decoration: none"
                  >
                    <svg width="22" height="22" fill="currentColor">
                      <use xlink:href="#user"></use>
                    </svg>
                  </a>
                  <ul
                    class="dropdown-menu dropdown-menu-end shadow border-0 rounded-3"
                  >
                    <li>
                      <a
                        class="dropdown-item d-flex align-items-center gap-2"
                        href="{{ url_for('login') }}"
                      >
                        <i
                          class="bi bi-box-arrow-in-right"
                          style="font-size: 1.1rem; color: #2196f3"
                        ></i>
                        <span>Login</span>
                      </a>
                    </li>
                    <li>
                      <a
                        class="dropdown-item d-flex align-items-center gap-2"
                        href="{{ url_for('register') }}"
                      >
                        <i
                          class="bi bi-person-plus"
                          style="font-size: 1.1rem; color: #4caf50"
                        ></i>
                        <span>Daftar</span>
                      </a>
                    </li>
                  </ul>
                </li>
                {% endif %}
              </ul>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <!-- MODAL KERANJANG -->
    <div
      class="modal fade"
      id="cartModal"
      tabindex="-1"
      aria-labelledby="cartModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content rounded-4 shadow">
          <div class="modal-header border-bottom-0">
            <h5 class="modal-title fw-bold">Keranjang Belanja</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body p-4">
            <div id="cart-content">
              <!-- Content akan diisi oleh JavaScript -->
            </div>
          </div>
          <div class="modal-footer border-top-0">
            <div class="w-100">
              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <span class="fw-semibold">Total Items:</span>
                <span class="fw-bold" id="cart-total-items">0 items</span>
              </div>
              <div class="d-grid gap-2">
                <button
                  class="btn btn-dark rounded-pill"
                  onclick="continueShopping()"
                >
                  Lanjut Belanja
                </button>
                <button
                  class="btn btn-primary rounded-pill"
                  onclick="checkout()"
                >
                  Checkout Sekarang
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL LOGIN & REGISTER -->
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 shadow">
          <div class="modal-header border-bottom-0">
            <h5 class="modal-title fw-semibold">Masuk / Daftar</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body px-4">
            <ul
              class="nav nav-tabs mb-3 justify-content-center"
              id="loginTabs"
              role="tablist"
            >
              <li class="nav-item">
                <button
                  class="nav-link active"
                  data-bs-toggle="tab"
                  data-bs-target="#loginTab"
                  type="button"
                >
                  Login
                </button>
              </li>
              <li class="nav-item">
                <button
                  class="nav-link"
                  data-bs-toggle="tab"
                  data-bs-target="#registerTab"
                  type="button"
                >
                  Daftar
                </button>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane fade show active" id="loginTab">
                <form>
                  <div class="mb-3">
                    <label>Email</label>
                    <input
                      type="email"
                      class="form-control rounded-3"
                      placeholder="Masukkan email"
                    />
                  </div>
                  <div class="mb-3">
                    <label>Password</label>
                    <input
                      type="password"
                      class="form-control rounded-3"
                      placeholder="Masukkan password"
                    />
                  </div>
                  <button type="submit" class="btn btn-dark w-100 rounded-pill">
                    Masuk
                  </button>
                </form>
              </div>
              <div class="tab-pane fade" id="registerTab">
                <form>
                  <div class="mb-3">
                    <label>Nama Lengkap</label>
                    <input
                      type="text"
                      class="form-control rounded-3"
                      placeholder="Masukkan nama lengkap"
                    />
                  </div>
                  <div class="mb-3">
                    <label>Email</label>
                    <input
                      type="email"
                      class="form-control rounded-3"
                      placeholder="Masukkan email"
                    />
                  </div>
                  <div class="mb-3">
                    <label>Password</label>
                    <input
                      type="password"
                      class="form-control rounded-3"
                      placeholder="Masukkan password"
                    />
                  </div>
                  <button
                    type="submit"
                    class="btn btn-primary w-100 rounded-pill"
                  >
                    Daftar
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Section-->
    <section class="py-5">
      <div class="container px-4 px-lg-5 mt-5">
        <h3 class="text-center mb-5 text-capitalize fw-bold">AKSESORIS</h3>
        <div
          class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center"
        >
          <!-- Aksesoris 1 -->
          <div class="col mb-5">
            <div
              class="card product-card"
              onclick="goToDetail(9)"
              style="cursor: pointer"
            >
              <img src="static\assets_koleksi\akse1.jpg" class="foto-produk" />
              <div class="card-body p-4">
                <div class="text-center">
                  <h5 class="fw-bolder">Kacamata Hitam Fashion</h5>
                  <span class="text-danger">Rp. 70.000 /hari</span>
                </div>
              </div>
              <div class="card-footer p-3 pt-2 border-top-0 bg-transparent">
                <div class="d-flex gap-2 justify-content-center">
                  <button
                    class="btn btn-sm btn-outline-dark flex-grow-1 d-flex align-items-center justify-content-center gap-1"
                    onclick="goToDetail(9)"
                  >
                    <i class="bi bi-eye"></i>
                    <span>Detail</span>
                  </button>
                  <button
                    class="btn btn-sm btn-outline-dark btn-icon"
                    onclick="addToCart(9)"
                    title="Tambah ke Keranjang"
                  >
                    <i class="bi bi-cart-plus"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Aksesoris 2 -->
          <div class="col mb-5">
            <div
              class="card product-card"
              onclick="goToDetail(10)"
              style="cursor: pointer"
            >
              <img src="static\assets_koleksi\akse2.jpg" class="foto-produk" />
              <div class="card-body p-4">
                <div class="text-center">
                  <h5 class="fw-bolder">Tas Selempang Merah Muda</h5>
                  <span class="text-danger">Rp. 60.000 /hari</span>
                </div>
              </div>
              <div class="card-footer p-3 pt-2 border-top-0 bg-transparent">
                <div class="d-flex gap-2 justify-content-center">
                  <button
                    class="btn btn-sm btn-outline-dark flex-grow-1 d-flex align-items-center justify-content-center gap-1"
                    onclick="goToDetail(10)"
                  >
                    <i class="bi bi-eye"></i>
                    <span>Detail</span>
                  </button>
                  <button
                    class="btn btn-sm btn-outline-dark btn-icon"
                    onclick="addToCart(10)"
                    title="Tambah ke Keranjang"
                  >
                    <i class="bi bi-cart-plus"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Aksesoris 3 -->
          <div class="col mb-5">
            <div
              class="card product-card"
              onclick="goToDetail(11)"
              style="cursor: pointer"
            >
              <img src="static\assets_koleksi\akse3.jpg" class="foto-produk" />
              <div class="card-body p-4">
                <div class="text-center">
                  <h5 class="fw-bolder">Ikat Pinggang Coklat Bohemian</h5>
                  <span class="text-danger">Rp. 50.000 /hari</span>
                </div>
              </div>
              <div class="card-footer p-3 pt-2 border-top-0 bg-transparent">
                <div class="d-flex gap-2 justify-content-center">
                  <button
                    class="btn btn-sm btn-outline-dark flex-grow-1 d-flex align-items-center justify-content-center gap-1"
                    onclick="goToDetail(11)"
                  >
                    <i class="bi bi-eye"></i>
                    <span>Detail</span>
                  </button>
                  <button
                    class="btn btn-sm btn-outline-dark btn-icon"
                    onclick="addToCart(11)"
                    title="Tambah ke Keranjang"
                  >
                    <i class="bi bi-cart-plus"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Aksesoris 4 -->
          <div class="col mb-5">
            <div
              class="card product-card"
              onclick="goToDetail(12)"
              style="cursor: pointer"
            >
              <img src="static\assets_koleksi\akse4.jpg" class="foto-produk" />
              <div class="card-body p-4">
                <div class="text-center">
                  <h5 class="fw-bolder">Set Kalung & Anting Silver</h5>
                  <span class="text-danger">Rp. 80.000 /hari</span>
                </div>
              </div>
              <div class="card-footer p-3 pt-2 border-top-0 bg-transparent">
                <div class="d-flex gap-2 justify-content-center">
                  <button
                    class="btn btn-sm btn-outline-dark flex-grow-1 d-flex align-items-center justify-content-center gap-1"
                    onclick="goToDetail(12)"
                  >
                    <i class="bi bi-eye"></i>
                    <span>Detail</span>
                  </button>
                  <button
                    class="btn btn-sm btn-outline-dark btn-icon"
                    onclick="addToCart(12)"
                    title="Tambah ke Keranjang"
                  >
                    <i class="bi bi-cart-plus"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer id="footer" class="bg-white border-top mt-5">
      <div class="container py-5">
        <div class="row gy-4">
          <div class="col-lg-3 col-sm-6">
            <img
              src="{{ url_for('static', filename='images/main-logo.png') }}"
              alt="logo"
              class="img-fluid mb-3"
              style="max-width: 200px"
            />
            <p>
              Jl. Brigjend H. Hasan Basri, Pangeran, Kec. Banjarmasin Utara,<br />Kota
              Banjarmasin, Kalimantan Selatan 70123
            </p>
            <ul class="d-flex list-unstyled gap-3 mt-3">
              <li>
                <a href="https://facebook.com" class="text-dark"
                  ><i class="bi bi-facebook fs-5"></i
                ></a>
              </li>
              <li>
                <a href="https://instagram.com" class="text-dark"
                  ><i class="bi bi-instagram fs-5"></i
                ></a>
              </li>
              <li>
                <a href="https://youtube.com" class="text-dark"
                  ><i class="bi bi-youtube fs-5"></i
                ></a>
              </li>
            </ul>
          </div>

          <div class="col-lg-2 col-sm-6">
            <h5 class="fw-bold mb-3">Quick Links</h5>
            <ul class="list-unstyled">
              <li>
                <a
                  href="{{ url_for('beranda') }}"
                  class="text-dark text-decoration-none"
                  >Beranda</a
                >
              </li>
              <li>
                <a
                  href="{{ url_for('koleksi') }}"
                  class="text-dark text-decoration-none"
                  >Koleksi</a
                >
              </li>
              <li>
                <a
                  href="{{ url_for('inspirasi') }}"
                  class="text-dark text-decoration-none"
                  >Inspirasi</a
                >
              </li>
              <li>
                <a
                  href="{{ url_for('contact') }}"
                  class="text-dark text-decoration-none"
                  >Kontak</a
                >
              </li>
              <li>
                <a
                  href="{{ url_for('tentang') }}"
                  class="text-dark text-decoration-none"
                  >Tentang</a
                >
              </li>
              <li>
                <a
                  href="{{ url_for('review') }}"
                  class="text-dark text-decoration-none"
                  >Review</a
                >
              </li>
            </ul>
          </div>

          <div class="col-lg-3 col-sm-6">
            <h5 class="fw-bold mb-3">Help & Info</h5>
            <ul class="list-unstyled">
              <li>
                <a href="#" class="text-dark text-decoration-none"
                  >Cek Pesanan</a
                >
              </li>
              <li>
                <a href="#" class="text-dark text-decoration-none"
                  >Kebijakan Pengembalian</a
                >
              </li>
              <li>
                <a href="#" class="text-dark text-decoration-none"
                  >Hubungi Kami</a
                >
              </li>
              <li>
                <a href="#" class="text-dark text-decoration-none">FAQ</a>
              </li>
            </ul>
          </div>

          <div class="col-lg-4 col-sm-6">
            <h5 class="fw-bold mb-3">Contact Us</h5>
            <p>
              Ada pertanyaan atau saran? <br />
              <a
                href="mailto:iarentfashion@gmail.com"
                class="text-dark text-decoration-underline"
                >iarentfashion@gmail.com</a
              >
            </p>
            <p>
              Butuh bantuan cepat? Hubungi kami: <br />
              <a
                href="https://wa.me/6281122233344"
                class="text-dark text-decoration-underline"
                >+62 811-2223-3344</a
              >
            </p>
          </div>
        </div>

        <div
          class="border-top mt-4 pt-3 d-flex justify-content-between align-items-center flex-wrap"
        >
          <div class="d-flex align-items-center gap-3">
            <p class="mb-0 small fw-semibold">Payment options:</p>
            <img
              src="{{ url_for('static', filename='images/visa.jpg') }}"
              alt="Visa"
              width="40"
              height="25"
              class="rounded shadow-sm"
            />
            <img
              src="{{ url_for('static', filename='images/mastercard.jpg') }}"
              alt="MasterCard"
              width="40"
              height="25"
              class="rounded shadow-sm"
            />
            <img
              src="{{ url_for('static', filename='images/paypal.jpg') }}"
              alt="PayPal"
              width="40"
              height="25"
              class="rounded shadow-sm"
            />
          </div>
          <p class="mb-0 small text-secondary">
            © 2025 IA Rent Fashion. All Rights Reserved.
          </p>
        </div>
      </div>
    </footer>

    <script src="{{ url_for('static', filename='js/jquery-1.11.0.min.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='detailProduk/js/scripts.js') }}"></script>

    <script>
      // Cek status login dari Flask session
      const isLoggedIn = {{ 'true' if session.get('user_id') else 'false' }};
      // Data produk untuk referensi
      const products = {
        1: {
          name: "Jas Hitam Klasik",
          price: "Rp. 120.000 /hari",
          image: "static/assets_koleksi/jas1.jpg",
        },
        2: {
          name: "Jas Silver Elegan",
          price: "Rp. 150.000 /hari",
          image: "static/assets_koleksi/jas2.jpg",
        },
        3: {
          name: "Jas Slim Fit Formal",
          price: "Rp. 150.000 /hari",
          image: "static/assets_koleksi/jas3.jpg",
        },
        4: {
          name: "Blazer Wanita Abu-Abu",
          price: "Rp. 150.000 /hari",
          image: "static/assets_koleksi/jas4.jpg",
        },
        5: {
          name: "Dress Satin Lavender",
          price: "Rp. 100.000 /hari",
          image: "static/assets_koleksi/dress1.jpg",
        },
        6: {
          name: "Dress Pesta Ungu",
          price: "Rp. 120.000 /hari",
          image: "static/assets_koleksi/dress1.jpg",
        },
        7: {
          name: "Dress Brokat Abu Muda",
          price: "Rp. 150.000 /hari",
          image: "static/assets_koleksi/dress2.jpg",
        },
        8: {
          name: "Dress Maroon Elegant",
          price: "Rp. 130.000 /hari",
          image: "static/assets_koleksi/dress3.jpg",
        },
        9: {
          name: "Kacamata Hitam Fashion",
          price: "Rp. 70.000 /hari",
          image: "static/assets_koleksi/akse1.jpg",
        },
        10: {
          name: "Tas Selempang Merah Muda",
          price: "Rp. 60.000 /hari",
          image: "static/assets_koleksi/akse2.jpg",
        },
        11: {
          name: "Ikat Pinggang Coklat Bohemian",
          price: "Rp. 50.000 /hari",
          image: "static/assets_koleksi/akse3.jpg",
        },
        12: {
          name: "Set Kalung & Anting Silver",
          price: "Rp. 80.000 /hari",
          image: "static/assets_koleksi/akse4.jpg",
        },
        13: {
          name: "Kebaya Pink Brokat Modern",
          price: "Rp. 120.000 /hari",
          image: "static/assets_koleksi/kebaya1.jpg",
        },
        14: {
          name: "Kebaya Biru Dongker Premium",
          price: "Rp. 130.000 /hari",
          image: "static/assets_koleksi/kebaya2.jpg",
        },
        15: {
          name: "Kebaya Navy Brokat Tile",
          price: "Rp. 150.000 /hari",
          image: "static/assets_koleksi/kebaya3.jpg",
        },
        16: {
          name: "Kebaya Pastel Glamour",
          price: "Rp. 140.000 /hari",
          image: "static/assets_koleksi/kebaya4.jpg",
        },
        17: {
          name: "Sepatu Pantofel Hitam Klasik",
          price: "Rp. 130.000 /hari",
          image: "static/assets_koleksi/pentopel1.jpg",
        },
        18: {
          name: "Sepatu Formal Pria Premium",
          price: "Rp. 100.000/hari",
          image: "static/assets_koleksi/pentopel2.jpg",
        },
        19: {
          name: "Sepatu Kulit Hitam Elegan",
          price: "Rp. 100.000 /hari",
          image: "static/assets_koleksi/pentopel3.jpg",
        },
        20: {
          name: "Sepatu Oxford Modern",
          price: "Rp. 90.000 /hari",
          image: "static/assets_koleksi/pentopel4.jpg",
        },
      };


        // FUNCTION CEK LOGIN
      function checkLoginBeforeAction(action, callback) {
        if (!isLoggedIn) {
          alert('⚠️ Silakan login terlebih dahulu untuk ' + action);
          // Redirect ke halaman login dengan parameter next
          window.location.href = '/login?next=' + encodeURIComponent(window.location.pathname);
          return false;
        }
        callback();
        return true;
      }

      // Navigasi ke Detail Produk
      function goToDetail(productId) {
        console.log("Navigating to detail:", productId);
        window.location.href = `/detail/${productId}`;
      }

      // TAMBAH KE KERANJANG - DENGAN PROTEKSI LOGIN
      function addToCart(productId) {
        const event = window.event;
        event.stopPropagation(); // Prevent card click

        // CEK LOGIN DULU!
        if (!isLoggedIn) {
          alert('⚠️ Silakan login terlebih dahulu untuk menambahkan produk ke keranjang!');
          window.location.href = '/login?next=' + encodeURIComponent(window.location.pathname);
          return;
        }

        // Ambil data produk
        const product = products[productId];

        if (!product) {
          console.error("Product not found:", productId);
          return;
        }

        // Kirim ke backend API
        fetch('/api/cart/add', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            product_id: productId,
            quantity: 1
          })
        })
        .then(response => {
          if (response.status === 401) {
            alert('⚠️ Sesi Anda telah berakhir. Silakan login kembali.');
            window.location.href = '/login?next=' + encodeURIComponent(window.location.pathname);
            return null;
          }
          return response.json();
        })
        .then(data => {
          if (data && data.success) {
            alert(`✅ ${product.name}\nBerhasil ditambahkan ke keranjang!`);

            // Update cart count
            updateCartCount(data.cart_count);

            // Visual feedback pada button
            const btn = event.target.closest(".btn-icon");
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="bi bi-check-circle"></i>';
            btn.style.backgroundColor = "#28a745";
            btn.style.color = "white";
            btn.style.borderColor = "#28a745";

            setTimeout(() => {
              btn.innerHTML = originalHTML;
              btn.style.backgroundColor = "";
              btn.style.color = "";
              btn.style.borderColor = "";
            }, 2000);
          } else if (data) {
            alert('❌ ' + data.message);
          }
        })
        .catch(error => {
          console.error('Error:', error);
          alert('❌ Terjadi kesalahan saat menambahkan ke keranjang');
        });
      }

      // TAMBAH KE WISHLIST - DENGAN PROTEKSI LOGIN
      function addToWishlist(productId) {
        const event = window.event;
        event.stopPropagation();

        // CEK LOGIN DULU!
        if (!isLoggedIn) {
          alert('⚠️ Silakan login terlebih dahulu untuk menambahkan ke wishlist!');
          window.location.href = '/login?next=' + encodeURIComponent(window.location.pathname);
          return;
        }

        fetch('/api/wishlist/add', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            product_id: productId
          })
        })
        .then(response => {
          if (response.status === 401) {
            alert('⚠️ Sesi Anda telah berakhir. Silakan login kembali.');
            window.location.href = '/login?next=' + encodeURIComponent(window.location.pathname);
            return null;
          }
          return response.json();
        })
        .then(data => {
          if (data && data.success) {
            alert('✅ ' + data.message);
          } else if (data) {
            alert('❌ ' + data.message);
          }
        })
        .catch(error => {
          console.error('Error:', error);
          alert('❌ Terjadi kesalahan');
        });
      }

      // Update cart count
      function updateCartCount(count) {
        const cartCount = document.getElementById("cart-count");
        if (cartCount) {
          if (count !== undefined) {
            cartCount.textContent = count;
          } else {
            // Fetch dari server
            fetch('/api/cart/count')
              .then(response => response.json())
              .then(data => {
                if (data.count !== undefined) {
                  cartCount.textContent = data.count;
                }
              })
              .catch(error => console.error('Error fetching cart count:', error));
          }
        }
      }

      // Tampilkan isi keranjang di modal
      function showCart() {
        if (!isLoggedIn) {
          const cartContent = document.getElementById("cart-content");
          cartContent.innerHTML = `
            <div class="cart-empty">
              <i class="bi bi-lock"></i>
              <h5>Login Required</h5>
              <p>Silakan login untuk melihat keranjang Anda</p>
              <a href="/login" class="btn btn-dark rounded-pill mt-3">Login Sekarang</a>
            </div>
          `;
          return;
        }

        // Fetch cart dari server
        fetch('/api/cart')
          .then(response => response.json())
          .then(data => {
            const cartContent = document.getElementById("cart-content");
            const totalItems = document.getElementById("cart-total-items");

            if (!data.items || data.items.length === 0) {
              cartContent.innerHTML = `
                <div class="cart-empty">
                  <i class="bi bi-cart-x"></i>
                  <h5>Keranjang Kosong</h5>
                  <p>Belum ada item di keranjang Anda</p>
                </div>
              `;
              totalItems.textContent = "0 items";
            } else {
              let cartHTML = "";
              data.items.forEach((item, index) => {
                cartHTML += `
                  <div class="cart-item">
                    <div class="row align-items-center">
                      <div class="col-2">
                        <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                      </div>
                      <div class="col-6">
                        <h6 class="fw-semibold mb-1">${item.name}</h6>
                        <small class="text-muted">${item.price}</small>
                        <div class="mt-1">
                          <small class="text-muted">Qty: ${item.quantity}</small>
                        </div>
                      </div>
                      <div class="col-4 text-end">
                        <button class="remove-item" onclick="removeFromCart(${item.id})" title="Hapus dari keranjang">
                          <i class="bi bi-trash"></i> Hapus
                        </button>
                      </div>
                    </div>
                  </div>
                `;
              });
              cartContent.innerHTML = cartHTML;
              totalItems.textContent = `${data.items.length} item${data.items.length > 1 ? 's' : ''}`;
            }
          })
          .catch(error => {
            console.error('Error:', error);
            alert('❌ Gagal memuat keranjang');
          });
      }

      // Hapus item dari keranjang
      function removeFromCart(productId) {
        if (!confirm('Hapus item ini dari keranjang?')) {
          return;
        }

        fetch('/api/cart/remove', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            product_id: productId
          })
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            alert('✅ ' + data.message);
            showCart();
            updateCartCount();
          } else {
            alert('❌ ' + data.message);
          }
        })
        .catch(error => {
          console.error('Error:', error);
          alert('❌ Terjadi kesalahan');
        });
      }

      // Lanjut belanja
      function continueShopping() {
        const cartModal = bootstrap.Modal.getInstance(
          document.getElementById("cartModal")
        );
        cartModal.hide();
      }

      // Checkout - DENGAN PROTEKSI LOGIN
      function checkout() {
        if (!isLoggedIn) {
          alert('⚠️ Silakan login terlebih dahulu untuk melakukan checkout!');
          window.location.href = '/login?next=/checkout';
          return;
        }

        // Redirect ke halaman checkout
        window.location.href = '/checkout';
      }

      // Initialize pada saat halaman dimuat
      document.addEventListener("DOMContentLoaded", function () {
        // Update cart count jika user sudah login
        if (isLoggedIn) {
          updateCartCount();
        }

        // Event listener untuk modal keranjang
        const cartModal = document.getElementById("cartModal");
        if (cartModal) {
          cartModal.addEventListener("show.bs.modal", function () {
            showCart();
          });
        }

        // Update tampilan user icon jika sudah login
        if (isLoggedIn) {
          console.log('User is logged in');
        }
      });
    </script>
  </body>
</html>
